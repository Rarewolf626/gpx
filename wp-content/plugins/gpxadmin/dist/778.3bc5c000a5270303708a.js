"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[778],{4945:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}},8778:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var r=n(7829),s=n(3102),a=n(9608),l=n(6685),u=function(e){return(0,r.Qi)("data-v-5b53e510"),e=e(),(0,r.jt)(),e},o={class:"well"},i={key:0,class:"alert alert-success"},c={key:1,class:"alert alert-danger"},d=u((function(){return(0,r.Lk)("br",null,null,-1)})),f={class:"form-group"},v={class:"checkbox"},p={class:"form-group"},y={class:"input-group"},b=u((function(){return(0,r.Lk)("div",{class:"input-group-addon"},"$",-1)})),k={class:"form-group"},m=[u((function(){return(0,r.Lk)("option",{value:"daily"},"Daily",-1)})),u((function(){return(0,r.Lk)("option",{value:"weekly"},"Weekly",-1)}))],g=u((function(){return(0,r.Lk)("button",{type:"submit",class:"btn btn-primary"},"Save",-1)})),L=["textContent"];const h={__name:"ResortFeeDisplay",props:{resort:{type:Object,required:!0}},setup:function(e){var t=e,n=(0,l.KR)(!1),u=(0,l.KR)(""),h=(0,l.KR)({enabled:t.resort.enabled||!1,fee:t.resort.fee||0,frequency:t.resort.frequency||"weekly"}),q=function(){n.value||(n.value=!0,u.value="",axios.post("/gpxadmin/resort_fee_display/",{id:t.resort.id,settings:h.value}).then((function(e){e.data.success&&(h.value.enabled=e.data.settings.enabled,h.value.fee=e.data.settings.fee,h.value.frequency=e.data.settings.frequency),w(e.data.message,e.data.success),n.value=!1})).catch((function(e){var t,r,s=(null===(t=e.response)||void 0===t?void 0:t.data.message)||"An error occurred. Please try again.";422!==(null===(r=e.response)||void 0===r?void 0:r.status)?w(s,!1):(u.value=s,setTimeout((function(){return u.value=""}),2e3)),n.value=!1})))},w=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=document.querySelector(".update-nag");n&&(t?(n.classList.remove("nag-fail"),n.classList.add("nag-success")):(n.classList.remove("nag-success"),n.classList.add("nag-fail")),n.innerText=e,n.style.display="block",setTimeout((function(){return n.style.display="none"}),4e3))};return function(t,n){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",null,[e.resort.region?((0,r.uX)(),(0,r.CE)("div",i,"Resort Fees are currently shown for resorts in this region.")):((0,r.uX)(),(0,r.CE)("div",c,[(0,r.eW)(" Resort Fees are currently not shown for resorts in this region."),d,(0,r.eW)(" The settings below will not have an effect unless they are enabled for the region. ")]))]),(0,r.Lk)("form",{onSubmit:(0,s.D$)(q,["prevent"]),id:"resort-resortfees-form"},[(0,r.Lk)("div",f,[(0,r.Lk)("div",v,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",name:"enabled","onUpdate:modelValue":n[0]||(n[0]=function(e){return h.value.enabled=e})},null,512),[[s.lH,h.value.enabled]]),(0,r.eW)(" Calculate ")])])]),(0,r.Lk)("div",p,[(0,r.Lk)("div",y,[b,(0,r.bo)((0,r.Lk)("input",{id:"resort-resortfees-fee",name:"fee",class:"form-control",type:"number",step:".01","onUpdate:modelValue":n[1]||(n[1]=function(e){return h.value.fee=e}),placeholder:"0.00",min:"0.00"},null,512),[[s.Jo,h.value.fee,void 0,{number:!0}]])])]),(0,r.Lk)("div",k,[(0,r.bo)((0,r.Lk)("select",{class:"form-control",name:"frequency","onUpdate:modelValue":n[2]||(n[2]=function(e){return h.value.frequency=e})},m,512),[[s.u1,h.value.frequency]])]),g],32),u.value?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"alert alert-danger",textContent:(0,a.v_)(u.value)},null,8,L)):(0,r.Q3)("",!0)])}}};const q=(0,n(4945).A)(h,[["__scopeId","data-v-5b53e510"]])}}]);