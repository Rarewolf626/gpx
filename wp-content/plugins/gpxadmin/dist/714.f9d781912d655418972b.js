"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[714],{4413:(e,n)=>{n.Z=(e,n)=>{const t=e.__vccOpts||e;for(const[e,r]of n)t[e]=r;return t}},1714:(e,n,t)=>{t.r(n),t.d(n,{default:()=>w});var r=t(9026),s=t(467),a=t(7401),l=t(7885),u=function(e){return(0,r.dD)("data-v-5b53e510"),e=e(),(0,r.Cn)(),e},o={class:"well"},i={key:0,class:"alert alert-success"},c={key:1,class:"alert alert-danger"},d=u((function(){return(0,r._)("br",null,null,-1)})),f={class:"form-group"},v={class:"checkbox"},p={class:"form-group"},y={class:"input-group"},g=u((function(){return(0,r._)("div",{class:"input-group-addon"},"$",-1)})),m={class:"form-group"},b=[u((function(){return(0,r._)("option",{value:"daily"},"Daily",-1)})),u((function(){return(0,r._)("option",{value:"weekly"},"Weekly",-1)}))],_=u((function(){return(0,r._)("button",{type:"submit",class:"btn btn-primary"},"Save",-1)})),h=["textContent"];const k={__name:"ResortFeeDisplay",props:{resort:{type:Object,required:!0}},setup:function(e){var n=e,t=(0,l.iH)(!1),u=(0,l.iH)(""),k=(0,l.iH)({enabled:n.resort.enabled||!1,fee:n.resort.fee||0,frequency:n.resort.frequency||"weekly"}),w=function(){t.value||(t.value=!0,u.value="",axios.post("/gpxadmin/resort_fee_display/",{id:n.resort.id,settings:k.value}).then((function(e){e.data.success&&(k.value.enabled=e.data.settings.enabled,k.value.fee=e.data.settings.fee,k.value.frequency=e.data.settings.frequency),q(e.data.message,e.data.success),t.value=!1})).catch((function(e){var n,r,s=(null===(n=e.response)||void 0===n?void 0:n.data.message)||"An error occurred. Please try again.";422!==(null===(r=e.response)||void 0===r?void 0:r.status)?q(s,!1):(u.value=s,setTimeout((function(){return u.value=""}),2e3)),t.value=!1})))},q=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=document.querySelector(".update-nag");t&&(n?(t.classList.remove("nag-fail"),t.classList.add("nag-success")):(t.classList.remove("nag-success"),t.classList.add("nag-fail")),t.innerText=e,t.style.display="block",setTimeout((function(){return t.style.display="none"}),4e3))};return function(n,t){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",null,[e.resort.region?((0,r.wg)(),(0,r.iD)("div",i,"Resort Fees are currently shown for resorts in this region.")):((0,r.wg)(),(0,r.iD)("div",c,[(0,r.Uk)(" Resort Fees are currently not shown for resorts in this region."),d,(0,r.Uk)(" The settings below will not have an effect unless they are enabled for the region. ")]))]),(0,r._)("form",{onSubmit:(0,s.iM)(w,["prevent"]),id:"resort-resortfees-form"},[(0,r._)("div",f,[(0,r._)("div",v,[(0,r._)("label",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",name:"enabled","onUpdate:modelValue":t[0]||(t[0]=function(e){return k.value.enabled=e})},null,512),[[s.e8,k.value.enabled]]),(0,r.Uk)(" Calculate ")])])]),(0,r._)("div",p,[(0,r._)("div",y,[g,(0,r.wy)((0,r._)("input",{id:"resort-resortfees-fee",name:"fee",class:"form-control",type:"number",step:".01","onUpdate:modelValue":t[1]||(t[1]=function(e){return k.value.fee=e}),placeholder:"0.00",min:"0.00"},null,512),[[s.nr,k.value.fee,void 0,{number:!0}]])])]),(0,r._)("div",m,[(0,r.wy)((0,r._)("select",{class:"form-control",name:"frequency","onUpdate:modelValue":t[2]||(t[2]=function(e){return k.value.frequency=e})},b,512),[[s.bM,k.value.frequency]])]),_],32),u.value?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"alert alert-danger",textContent:(0,a.zw)(u.value)},null,8,h)):(0,r.kq)("",!0)])}}};const w=(0,t(4413).Z)(k,[["__scopeId","data-v-5b53e510"]])}}]);